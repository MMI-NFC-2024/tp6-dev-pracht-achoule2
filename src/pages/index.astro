---
import PlotFigure from "../components/PlotFigure.astro";
import Layout from "../layouts/Layout.astro";
import * as Plot from "@observablehq/plot";
import penguins from "../assets/penguins.json";
---

<Layout>
  <section class="mb-12">
    <h1 class="text-4xl font-extrabold text-gray-800 mb-4">TP6 ‚Äì Visualisation des manchots üêß</h1>
    <p class="text-gray-600 text-lg mb-6 max-w-3xl">
      Bienvenue sur la page d‚Äôaccueil du projet. Ce site utilise <strong>Astro</strong> et <strong>Observable Plot</strong> pour explorer les donn√©es morphologiques des manchots. Tu peux naviguer entre les rendus <span class="text-blue-600 font-medium">dynamiques</span>, <span class="text-green-600 font-medium">statiques</span>, ou afficher tous les graphiques sur une seule page.
    </p>

    <!-- üîó Liens vers les sections -->
    <nav class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-12">
      <a href="/rendu-dynamique" class="block bg-white border border-gray-200 rounded-lg shadow hover:shadow-md p-6 transition">
        <h2 class="text-xl font-semibold text-blue-600 mb-2">Rendu dynamique</h2>
        <p class="text-gray-600 text-sm">Pages g√©n√©r√©es √† la vol√©e selon l'esp√®ce s√©lectionn√©e.</p>
      </a>

      <a href="/rendu-statique" class="block bg-white border border-gray-200 rounded-lg shadow hover:shadow-md p-6 transition">
        <h2 class="text-xl font-semibold text-green-600 mb-2">Rendu statique</h2>
        <p class="text-gray-600 text-sm">Pages pr√©-g√©n√©r√©es pour chaque esp√®ce via <code>getStaticPaths()</code>.</p>
      </a>

      <a href="/rendu-statique/all-penguins" class="block bg-white border border-gray-200 rounded-lg shadow hover:shadow-md p-6 transition">
        <h2 class="text-xl font-semibold text-purple-600 mb-2">Tous les graphiques</h2>
        <p class="text-gray-600 text-sm">Visualisation globale des esp√®ces sur une seule page.</p>
      </a>
      <a href="/diamonds" class="block bg-white border border-gray-200 rounded-lg shadow hover:shadow-md p-6 transition">
  <h2 class="text-xl font-semibold text-pink-600 mb-2">Visualisation des diamants</h2>
  <p class="text-gray-600 text-sm">Explore les donn√©es sur les diamants selon leur qualit√©, carat et prix.</p>
</a>
    </nav>

    <!-- üìä Graphique global -->
    <section>
      <h2 class="text-2xl font-bold text-gray-800 mb-4">Graphique global</h2>
      <PlotFigure
        options={{
          marks: [
            Plot.dot(penguins.filter(p => p.culmen_length_mm && p.culmen_depth_mm), {
              x: "culmen_length_mm",
              y: "culmen_depth_mm",
              stroke: "species",
            }),
          ],
        }}
      />
    </section>
  </section>
</Layout>
